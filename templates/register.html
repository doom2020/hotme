<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>register</title>
    <script src="../static/js/vue.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css">
</head>
<style>
    * {
        margin: 0;
        padding: 0;
    }
</style>
<body style="background-color: #F0F0F0">
    <div id="icon" style="text-align: center;margin-top: 20px">
        <img src="../static/img/flag.jpg" style="width: 48px;height: 48px;">
    </div>
    <div id="meaning" style="text-align: center;margin-top: 5px;margin-bottom: 10px">
        <span><strong>hot me</strong></span>
    </div>
    <div id="loginDiv" style="width: 600px;height: 400px;background-color: #E6E6FA;margin: 0 auto;border-radius: 6px">
        <form style="padding-top: 15px;" class="form-horizontal">
            <div class="form-group has-success has-feedback" id="accountDiv">
                <label class="control-label col-sm-2" for="account">用户账号</label>
                <div class="col-sm-8">
                    <input type="text" v-on:blur="check_account" v-model='account' class="form-control" id="account" placeholder="输入昵称">
                    <span v-bind:class='nor_class' class="form-control-feedback" v-bind:style="nor_style"></span>
                </div>
                <div class="col-sm-2" style="height: 34px;line-height: 35px;">
                    <span v-bind:style="nor_style" v-cloak>{{ account_err_msg }}</span>
                </div>
            </div>
            <div class="form-group has-success has-feedback" id="phoneDiv">
                <label class="control-label col-sm-2" for="phone">用户手机</label>
                <div class="col-sm-8">
                    <input type="text" class="form-control" id="phone" placeholder="输入手机号">
                    <span class="glyphicon glyphicon-earphone form-control-feedback" style="color: #FF3333"></span>
                </div>
                <div class="col-sm-2" style="height: 34px;line-height: 35px;">
                    <span>信息不提示</span>
                </div>
            </div>
            <div class="form-group has-success has-feedback" id="upwdDiv">
                <label class="control-label col-sm-2" for="upwd">用户密码</label>
                <div class="col-sm-8">
                    <input type="password" class="form-control" id="upwd" placeholder="输人密码">
                    <span class="glyphicon glyphicon-lock form-control-feedback" style="color: #FF3333"></span>
                </div>
                <div class="col-sm-2" style="height: 34px;line-height: 35px;">
                    <span>信息不提示</span>
                </div>
            </div>
            <div class="form-group has-success has-feedback" id="cpwdDiv">
                <label class="control-label col-sm-2" for="cpwd">确认密码</label>
                <div class="col-sm-8">
                    <input type="password" class="form-control" id="cpwd" placeholder="确认密码">
                    <span class="glyphicon glyphicon-lock form-control-feedback" style="color: #FF3333"></span>
                </div>
                <div class="col-sm-2" style="height: 34px;line-height: 35px;">
                    <span>信息不提示</span>
                </div>
            </div>
            <div style="margin-top: 60px;text-align: center" id="btnDiv">
                <button type="button" class="btn btn-success" style="width: 400px">Register</button>
            </div>
        </form>
        <div id="toLoginDiv" style="margin-top: 20px;text-align: right;">
            <a href="/login/" style="padding-right: 100px">已有账号?</a>
        </div>
        <div id="errInfoDiv" style="text-align: center;margin-top: 30px;">
            <h3 style="color: #FF3333;">register fail</h3>
        </div>
    </div>
</body>
    <script>
        const account_vm = new Vue({
            el: "#accountDiv",
            data: {
                account: '',
                nor_class: 'glyphicon glyphicon glyphicon-user',
                nor_style: {},
                account_err_msg: '',

            },
            methods: {
                check_account(){
                    if (!this.account){
                        this.nor_class = 'glyphicon glyphicon-remove';
                        this.nor_style = {color: '#FF3333'};
                        this.account_err_msg = '账号不能空';
                    }
                    else if(this.account.length < 2 || this.account.length > 5){
                        this.nor_class = 'glyphicon glyphicon-remove';
                        this.nor_style = {color: '#FF3333'};
                        this.account_err_msg = '账号不合法';
                    }
                    else {
                        // 这里要进行ajax请求进行验证
                        this.nor_class = 'glyphicon glyphicon-ok';
                        this.nor_style = {};
                        this.account_err_msg = '验证合法';
                    }
                }
            }
        })
    </script>
</html>